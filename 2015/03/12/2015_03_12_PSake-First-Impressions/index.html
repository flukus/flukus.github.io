<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>PSake First Impressions | Proactively Lazy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="##Why
NAnt has been my go to build tool for nearly a decade now.
Over the years I&amp;#39;ve dabled with it&amp;#39;s inferior clone, msbuild,
make, cmake, qmake, rake, jake and probably others that I&amp;#39;ve">
<meta property="og:type" content="article">
<meta property="og:title" content="PSake First Impressions">
<meta property="og:url" content="http://flukus.github.io/2015/03/12/2015_03_12_PSake-First-Impressions/index.html">
<meta property="og:site_name" content="Proactively Lazy">
<meta property="og:description" content="##Why
NAnt has been my go to build tool for nearly a decade now.
Over the years I&amp;#39;ve dabled with it&amp;#39;s inferior clone, msbuild,
make, cmake, qmake, rake, jake and probably others that I&amp;#39;ve">
<meta property="og:updated_time" content="2015-08-11T23:38:44.899Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PSake First Impressions">
<meta name="twitter:description" content="##Why
NAnt has been my go to build tool for nearly a decade now.
Over the years I&amp;#39;ve dabled with it&amp;#39;s inferior clone, msbuild,
make, cmake, qmake, rake, jake and probably others that I&amp;#39;ve">
  
    <link rel="alternative" href="/atom.xml" title="Proactively Lazy" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Proactively Lazy</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://flukus.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2015_03_12_PSake-First-Impressions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/12/2015_03_12_PSake-First-Impressions/" class="article-date">
  <time datetime="2015-03-11T13:00:00.000Z" itemprop="datePublished">2015-03-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      PSake First Impressions
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##Why</p>
<p>NAnt has been my go to build tool for nearly a decade now.
Over the years I&#39;ve dabled with it&#39;s inferior clone, msbuild,
make, cmake, qmake, rake, jake and probably others that I&#39;ve forgotten,
but NAnt has remained my tool of choice.</p>
<p>It&#39;s always had just the right feature set for nearly everything I needed,
as well as the right limitations, it&#39;s possible to screw up a NAnt build,
but it takes some effort.
With a full scripting language things can become a lot hairier a lot quicker.
Other common arguments for switching, like the angle bracket tax,
I&#39;ve never found particularly convincing.
Sure NAnt can be verbose, but it isn&#39;t too bad once you get away from contrived examples.</p>
<p>Recently though, I wanted to create a build for a new (old) project and NAnt seems to have fallen behind the times,
not completely abandoned, but on life support.
The biggest issue for me is that it hasn&#39;t yet made the transition to the world of nuget.
There are packages, but the seem to be lacking features, ZipTask for instance.
More importantly it seems to have all but lost the mind share it once had,
not so much to msbuild, but to newer tools like Fake and PSake.
Convincing others of NAnts virtues is an uphill battle these days,
one I&#39;m sick of fighting.</p>
<p>I thought it might finally be time to look at some newer tools.
After a bit of research PSake turned out to be the most promising.</p>
<p>##The Good</p>
<p>By far the best thing about PSake is it&#39;s simplicity.
It is really just a way to organize sub scripts and run them in order of dependency,
with a bit of command line parsing and property organisation of the side.
This is a bit off putting when your used to a feature packed framework like NAnt or MSBuild but I think it&#39;s a good thing overall.</p>
<p>With other developer tools the world is moving away from frameworks in favor of smaller libraries that are combined ad-hoc.
The recent change of direction of angularjs shows why this is a good thing,
your not left at the whims of the framework developers changing direction or abandoning the project.
The project might not be very active on github, but that&#39;s because there isn&#39;t much to do.</p>
<p>##The Bad</p>
<p>The biggest downside is also it&#39;s simplicity. NAnt contains a lot of functionality out of the box and PSake doesn&#39;t try to compete.
Not to say that equivaent functionality isn&#39;t possible,
but if you have have older NAnt builds and your looking for a drop in replacement then PSake isn&#39;t it.</p>
<p>The first big gotcha I found with PSake is the weird property system.
When I set up my builds there are 3 places that properties can come from.</p>
<ol>
<li>The script itself. These are the &quot;sensible defaults&quot; for most developers.</li>
<li>A file (selected by the command line). This allows me to have different settings on multiple branches.</li>
<li>The command line. This is for the CI server and to override any specific setting I need to.</li>
</ol>
<p>There is almost definitely a way to do this in PSake, but it certainly isn&#39;t intuitive.</p>
<p>The other issue, and this is a much bigger one, is powershell itself.
I intend to go into this in another post, but until then here is the TLDR of why powershell sucks for builds:</p>
<ul>
<li>On error resume next. For some reason this anti-pattern was imported from the vb world. Everyone loves silent failures right?</li>
<li>Every command has to be wrapped in PSakes Exec()</li>
<li>Built in file operations are worse than NAnt.</li>
</ul>
<p>And this is just a short list that I&#39;ve found in my early expiriments, given some of those design decisions I&#39;m not sure what else to expect in future.</p>
<p>##Conclusion</p>
<p>If I had to sum up PSake I would say that it&#39;s a good library built on a dodgy foundation. There is certainly a lot of potential there, but until powerhsell libraries improve it is not ready for primae time.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://flukus.github.io/2015/03/12/2015_03_12_PSake-First-Impressions/" data-id="cin1538qe001dk4uys9vbr4ou" class="article-share-link">Share</a>
      
        <a href="http://flukus.github.io/2015/03/12/2015_03_12_PSake-First-Impressions/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/build/">build</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nant/">nant</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/powershell/">powershell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/psake/">psake</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/03/13/2015_03_13_Powershell-is-a-Joke/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Powershell is a Joke
        
      </div>
    </a>
  
  
    <a href="/2014/09/03/2014_09_03_Test-Ignorance/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Test Ignorance</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AAATest/">AAATest</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/app-harbor/">app harbor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/architecture/">architecture</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/build/">build</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c#</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/general/">general</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/general-programming/">general programming</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/integration-test/">integration test</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/msbuild/">msbuild</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nServiceBus/">nServiceBus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nant/">nant</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nunit/">nunit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orm/">orm</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/powershell/">powershell</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/psake/">psake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scm/">scm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unit-test/">unit test</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AAATest/" style="font-size: 12.5px;">AAATest</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/app-harbor/" style="font-size: 10px;">app harbor</a> <a href="/tags/architecture/" style="font-size: 15px;">architecture</a> <a href="/tags/build/" style="font-size: 20px;">build</a> <a href="/tags/c/" style="font-size: 15px;">c#</a> <a href="/tags/general/" style="font-size: 10px;">general</a> <a href="/tags/general-programming/" style="font-size: 10px;">general programming</a> <a href="/tags/integration-test/" style="font-size: 10px;">integration test</a> <a href="/tags/msbuild/" style="font-size: 15px;">msbuild</a> <a href="/tags/nServiceBus/" style="font-size: 10px;">nServiceBus</a> <a href="/tags/nant/" style="font-size: 12.5px;">nant</a> <a href="/tags/nunit/" style="font-size: 10px;">nunit</a> <a href="/tags/orm/" style="font-size: 15px;">orm</a> <a href="/tags/powershell/" style="font-size: 12.5px;">powershell</a> <a href="/tags/psake/" style="font-size: 10px;">psake</a> <a href="/tags/scm/" style="font-size: 10px;">scm</a> <a href="/tags/sql/" style="font-size: 17.5px;">sql</a> <a href="/tags/unit-test/" style="font-size: 15px;">unit test</a> <a href="/tags/vim/" style="font-size: 12.5px;">vim</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/04/14/2016_04_15_Background-Builds-with-Vim-8/">Background Builds with Vim 8</a>
          </li>
        
          <li>
            <a href="/2015/08/12/2013_12_10_ORM-vs-SQL-1-Paging/">ORM vs SQL Part 1 - Paging</a>
          </li>
        
          <li>
            <a href="/2015/07/24/2015_07_24_Simple-Abstractions/">Simple Abstractions</a>
          </li>
        
          <li>
            <a href="/2015/07/09/2015_07_09-Interfaces-for-Data/">Simple Interfaces for Data</a>
          </li>
        
          <li>
            <a href="/2015/07/03/2015_07_03-Vim-errorformat-Demystified/">Vim errorformat Demystified</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Luke Usher<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'proactivelylazy';
  
  var disqus_url = 'http://flukus.github.io/2015/03/12/2015_03_12_PSake-First-Impressions/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>